!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("validator",[],t):"object"==typeof exports?exports.validator=t():e.validator=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),i=n(a);t["default"]=i["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(2),s=r(3),f=n(s),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"afterFieldValidate",value:function(e,t){if(t){var r=this.opts.prefix+"-error";t.clazz=r,t.placeId=(r+"_"+(t.id||t.name)).replace("-","_"),e?this._removeErrorPlace(t):this._addErrorPlace(t)}}},{key:"_removeErrorPlace",value:function(e){if(e.el){for(var t=0,r=e.el.length;t<r;t++)(0,o.removeClass)(e.el[t],e.clazz),(0,o.addClass)(e.el[t],this.opts.prefix+"-success");var n=document.getElementById(e.placeId);n&&n.parentNode.removeChild(n)}}},{key:"_addErrorPlace",value:function(e){if(e.el){this._removeErrorPlace(e);for(var t=this.opts,r=0,n=e.el.length;r<n;r++)(0,o.removeClass)(e.el[r],t.prefix+"-success"),(0,o.addClass)(e.el[r],e.clazz);var a=document.createElement(t.errorEl);if((0,o.addClass)(a,e.clazz+"-message"),a.setAttribute("id",e.placeId),a.innerText=e.message,"function"==typeof t.errorPlacement)t.errorPlacement(a,e.el[0]);else{var i=e.el[0];(0,o.isRadioOrCheckbox)(i)||i.parentNode.appendChild(a)}}}}]),t}(f["default"]);t["default"]=c},function(e,t){"use strict";function r(e){return"string"==typeof e?e:e.value}function n(e,t){for(var r in t)e[r]=t[r];return e}function a(e){return e.id=null,e.el=null,e.type=null,e.value=null,e.checked=null,e}function i(e){var t=new Date,r=e.split("-");return t.setFullYear(r[0]),t.setMonth(r[1]-1),t.setDate(r[2]),t}function u(){return"undefined"!=typeof window}function l(e){return u()?e||window.event:null}function o(e){return"radio"===e.type||"checkbox"===e.type}function s(e){return"OPTION"===e[0].tagName}function f(e){return e&&e.length&&!o(e[0])&&!s(e)}function c(e){return document.getElementsByName(e)}function d(e,t){if(o(e[0]))for(var r=0,n=e.length;r<n;r++)if(e[r].checked)return e[r][t];return e[0][t]}function v(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function h(e,t){v(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function p(e,t){if(v(e,t)){var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.classList?e.classList.remove(t):e.className=e.className.replace(r," ")}}Object.defineProperty(t,"__esModule",{value:!0}),t.getValue=r,t.extend=n,t.initField=a,t.parseToDate=i,t.isBrowser=u,t.getCurrentEvent=l,t.isRadioOrCheckbox=o,t.isSelect=s,t.isSameNameField=f,t.getElementsByName=c,t.attributeValue=d,t.addClass=h,t.removeClass=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(2),o=r(4),s=n(o),f=function(){function e(t){a(this,e);for(var r in s["default"])this[r]=s["default"][r];return t?(this._default={prefix:"valid",errorEl:"em",eventLevel:"all"},this.opts=(0,l.extend)(this._default,t),this.form={},this.bodyData=t.bodyData,this.errors={},this.fields={},this.handles={},this.addFields(this.opts.fields),(0,l.isBrowser)()&&this.opts.formName&&(this.form=document.forms[this.opts.formName],this.form.setAttribute("novalidate","novalidate"),this.onInputEvent(null,"all"),this._onSubmit()),this):this}return u(e,[{key:"validate",value:function(e){this.handles.evt=(0,l.getCurrentEvent)(e);var t=!0,r=this.fields;for(var n in r)this.validateByName(n)||(t=!1);return t?this.errors=null:this.preventSubmit(),"function"==typeof this.opts.callback&&this.opts.callback(this.errors,this.handles.evt),t}},{key:"validateByName",value:function(e){var t=this.fields[e],r=this.handles.evt,n=!1;if(!t)return n;var a=this._getArrayByName(t.name);if((0,l.isSameNameField)(a)){for(var i=!0,u=0,o=a.length;u<o;u++)t.el=[a[u]],this._validateField(t)||(i=!1);n=i}else t.el=a,n=this._validateField(t);return this.afterFieldValidate&&this.afterFieldValidate(n,this.errors[e],r),n&&delete this.errors[e],n}},{key:"preventSubmit",value:function(){var e=this.handles.evt;return e&&e.preventDefault?e.preventDefault():e&&(e.returnValue=!1),this}},{key:"addMethod",value:function(e,t){return"function"==typeof t&&(s["default"][e]=t,this[e]=t),this}},{key:"addFields",value:function(e){if("object"===("undefined"==typeof e?"undefined":i(e)))for(var t in e){var r=e[t];r.rules&&(r.name=t,r=(0,l.initField)(r),this.fields[t]=r)}return this}},{key:"removeFields",value:function(e){if(e instanceof Array)for(var t=0,r=e.length;t<r;t++)this.fields&&delete this.fields[e[t]],this.errors&&delete this.errors[e[t]];return this}},{key:"onInputEvent",value:function(e,t){for(var r=function(e){return function(t){try{var r=(0,l.getCurrentEvent)(t),n=r.target||r.srcElement,a=e.fields[n.name];return a.el=e._getArrayByName(a.name),e._validateField(a)}catch(i){return null}}}(this),n=e?this._getArrayByName(e):this.form.elements,a=0,i=n.length;a<i;a++){var u=void 0,o=void 0,s=function(){},f=t||this.opts.eventLevel;switch(f){case"off":u=s,o=s;break;case"change":u=s,o=r;break;case"all":u=r,o=r}var c=n[a];window.ActiveXObject||"ActiveXObject"in window?c.onkeyup=u:c.oninput=u,c.onchange=o}return this}},{key:"_onSubmit",value:function(){var e=this.form.onsubmit;this.form.onsubmit=function(t){return function(r){try{var n=(0,l.getCurrentEvent)(r);return t.validate(n)&&(void 0===e||e())}catch(a){return null}}}(this)}},{key:"_validateField",value:function(e){var t=this,r=e,n=!0;this.errors=this.errors||{},r=this._updateField(r);var a=r.rules.indexOf("required")!==-1,i=void 0===r.value||""===r.value||null===r.value,u=r.rules.split(/\s*\|\s*/g),l=function(e,l){if(!n)return"break";var o=u[e],f=/^(.+?)\((.+)\)$/.exec(o),c="";return f&&(o=f[1],c=f[2]),!a&&i?"continue":("function"==typeof s["default"][o]&&(s["default"][o].apply(t,[r,c])||(n=!1)),t.errors[r.name]={el:r.el,id:r.id,name:r.name,rule:o},void(n||(t.errors[r.name].message=function(){var t=r.messages?r.messages.split(/\s*\|\s*/g)[e]:"";return t?t.replace(/\{\{\s*value\s*}}/g,r.value).replace(/\{\{\s*param\s*}}/g,c):t}())))};e:for(var o=0,f=u.length;o<f;o++){var c=l(o,f);switch(c){case"break":break e;case"continue":continue}}return n}},{key:"_updateField",value:function(e){var t=e;if(this.bodyData)return t.value=this.bodyData[t.name],t;var r=t.el;return r?(t.id=r[0].id,t.type=r[0].type,t.value=(0,l.attributeValue)(r,"value"),t.checked=(0,l.attributeValue)(r,"checked")):t=(0,l.initField)(e),t}},{key:"_getArrayByName",value:function(e){if((0,l.isBrowser)()){var t=void 0;if(t=this.opts.formName?this.form[e]:(0,l.getElementsByName)(e),!t||0===t.length)return null;var r=[],n=t.length;if(n&&!(0,l.isSelect)(t))for(var a=0;a<n;a++)r.push(t[a]);else r.push(t);return r}return null}}]),e}();t["default"]=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),i=n(a),u=r(2),l={isNumeric:function(e){return i["default"].numeric.test((0,u.getValue)(e))},isInteger:function(e){return i["default"].integer.test((0,u.getValue)(e))},isDecimal:function(e){return i["default"].decimal.test((0,u.getValue)(e))},isEmail:function(e){return i["default"].email.test((0,u.getValue)(e))},isIp:function(e){return i["default"].ip.test((0,u.getValue)(e))},isTel:function(e){return i["default"].tel.test((0,u.getValue)(e))},isPhone:function(e){return i["default"].phone.test((0,u.getValue)(e))},isAbc:function(e){return i["default"].abc.test((0,u.getValue)(e))},isUrl:function(e){return i["default"].url.test((0,u.getValue)(e))},isDate:function(e){var t=(0,u.getValue)(e);if(i["default"].date.test(t)){t=t.split("-");var r=parseInt(t[0],10),n=parseInt(t[1],10),a=parseInt(t[2],10);if(r<1||r>9999||n<1||n>12)return!1;var l=[31,28,31,30,31,30,31,31,30,31,30,31];return(r%400===0||r%100!==0&&r%4===0)&&(l[1]=29),!(a<1||a>l[n-1])}return!1},required:function(e){return(0,u.isRadioOrCheckbox)(e)?e.checked===!0:null!==(0,u.getValue)(e)&&""!==(0,u.getValue)(e)},greaterThan:function(e,t){var r=(0,u.getValue)(e);return!!i["default"].decimal.test(r)&&parseFloat(r)>parseFloat(t)},lessThan:function(e,t){var r=(0,u.getValue)(e);return!!i["default"].decimal.test(r)&&parseFloat(r)<parseFloat(t)},maxLength:function(e,t){return!!i["default"].integer.test(t)&&(0,u.getValue)(e).length<=parseInt(t,10)},minLength:function(e,t){return!!i["default"].integer.test(t)&&(0,u.getValue)(e).length>=parseInt(t,10)},greaterThanDate:function(e,t){var r=(0,u.parseToDate)((0,u.getValue)(e)),n=(0,u.parseToDate)(t);return!(!n||!r)&&r>n},lessThanDate:function(e,t){var r=(0,u.parseToDate)((0,u.getValue)(e)),n=(0,u.parseToDate)(t);return!(!n||!r)&&r<n}};t["default"]=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={numeric:/^\d+$/,integer:/^-?\d+$/,decimal:/^-?\d*\.?\d+$/,email:/^[a-zA-Z0-9.!#$%&â€™*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,ip:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])((\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){3}|(\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){5})$/,tel:/^(([0+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,phone:/^1[3-9]\d{9}$/,abc:/^\w+$/,url:/[a-zA-Z]+:\/\/[^\s]*/,date:/^\d{4}-\d{1,2}-\d{1,2}$/};t["default"]=r}])});
//# sourceMappingURL=validator.min.js.map